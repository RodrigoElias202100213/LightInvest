@model LightInvest.Models.SimulacaoCompletaViewModel

@{
    ViewData["Title"] = "Simulação Completa de Consumo e Tarifa";
}

<h2>Simulação Completa de Consumo e Tarifa</h2>

<!-- Exibir informações de Consumo -->
<h3>Consumo de Energia</h3>
<ul>
    <li><strong>Média Semanal:</strong> @Model.EnergyConsumptionViewModel.MediaSemana kWh</li>
    <li><strong>Média Fim de Semana:</strong> @Model.EnergyConsumptionViewModel.MediaFimSemana kWh</li>
    <li><strong>Média Anual:</strong> @Model.EnergyConsumptionViewModel.MediaAnual kWh</li>
</ul>

<!-- Exibir informações de Tarifa -->
<h3>Tarifa Aplicada</h3>
<p><strong>Tarifa Escolhida:</strong> @Model.ResultadoTarifaViewModel.TarifaEscolhida</p>
<p><strong>Preço por kWh:</strong> @Model.ResultadoTarifaViewModel.PrecoKwh €</p>

<!-- Comparação de Consumo -->
<h3>Comparação de Consumo</h3>
<ul>
    <li><strong>Consumo Total:</strong> @Model.ResultadoTarifaViewModel.ConsumoTotal kWh</li>
    <li><strong>Custo Total Estimado:</strong> @Model.ResultadoTarifaViewModel.ValorAnual €</li>
    <li><strong>Média de Custo Mensal:</strong> @(Model.ResultadoTarifaViewModel.ValorAnual / 12) €</li>
</ul>

<!-- Comparação Mensal em Tabela -->
<h3>Distribuição Mensal do Consumo e Custo</h3>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Mês</th>
            <th>Consumo (kWh)</th>
            <th>Custo (€)</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var mesConsumo in Model.ResultadoTarifaViewModel.ConsumoMensal)
        {
            <tr>
                <td>@mesConsumo.Mes</td>
                <td>@mesConsumo.Consumo</td>
                <td>@mesConsumo.Custo</td>
            </tr>
        }
    </tbody>
</table>

<!-- Exibir informações de Instalação -->
<h3>Informações de Instalação</h3>
<ul>
    <li><strong>Cidade:</strong> @(Model.DadosInstalacao.Cidade?.Nome ?? "Não disponível")</li>
    <li><strong>Modelo de Painel:</strong> @Model.DadosInstalacao.ModeloPainel.Modelo</li>
    <li><strong>Número de Painéis:</strong> @Model.DadosInstalacao.NumeroPaineis</li>
    <li><strong>Consumo por Painel:</strong> @Model.DadosInstalacao.ConsumoPainel kWh</li>
    <li><strong>Inclinação:</strong> @Model.DadosInstalacao.Inclinacao °</li>
    <li><strong>Dificuldade de Instalação:</strong> @Model.DadosInstalacao.Dificuldade</li>
    <li><strong>Preço de Instalação:</strong> @Model.PrecoInstalacao.ToString("C")</li>
</ul>

<a asp-action="SimulacaoCompleta" class="btn btn-primary">Voltar</a>
